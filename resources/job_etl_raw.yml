# noteboocks a serem executados
resources:
  jobs:
    raw_ingestion_job:
      name: "JOB - 1. Ingest√£o Transient para Raw (SCD1)"
      
      job_clusters:
        - job_cluster_key: "raw_cluster"
          new_cluster:
            spark_version: "14.3.x-scala2.12" 
            node_type_id: "i3.xlarge"
            num_workers: 2

      tasks:
        - task_key: "ingest_consumos"
          job_cluster_key: "raw_cluster"
          spark_python_task:
            python_file: "../src/lakehouse/etl_process/raw/consumos/etl.py"
            
        - task_key: "ingest_faturas"
          job_cluster_key: "raw_cluster"
          spark_python_task:
            python_file: "../src/lakehouse/etl_process/raw/faturas/etl.py"

        - task_key: "ingest_hospedes"
          job_cluster_key: "raw_cluster"
          spark_python_task:
            python_file: "../src/lakehouse/etl_process/raw/hospedes/etl.py"

        - task_key: "ingest_hoteis"
          job_cluster_key: "raw_cluster"
          spark_python_task:
            python_file: "../src/lakehouse/etl_process/raw/hoteis/etl.py"

        - task_key: "ingest_quartos"
          job_cluster_key: "raw_cluster"
          spark_python_task:
            python_file: "../src/lakehouse/etl_process/raw/quartos/etl.py"

        - task_key: "ingest_reservas"
          job_cluster_key: "raw_cluster"
          spark_python_task:
            python_file: "../src/lakehouse/etl_process/raw/reservas/etl.py"

        - task_key: "ingest_reserva_ota"
          job_cluster_key: "raw_cluster"
          spark_python_task:
            python_file: "../src/lakehouse/etl_process/raw/reservas_ota/etl.py"

      format: "MULTI_TASK"
